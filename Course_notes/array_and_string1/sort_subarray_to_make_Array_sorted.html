<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// Start from 0. Find the first dip in value, call that ​start​.</span>
    <span style="color: #408080; font-style: italic">// For example: [1,3,5,2,6,4,7,8,9] --&gt; First dip starts at index 2.</span>
    <span style="color: #408080; font-style: italic">// Next, start from the end of the array. Find the first bump in value, call that ​end​.</span>
    <span style="color: #408080; font-style: italic">// For example: [1,3,5,2,6,4,7,8,9] --&gt; First bump starts at index 5.</span>
    
    <span style="color: #408080; font-style: italic">// sorting the inner array won&#39;t do the trick, we might need to include from number minumum on left than current dip</span>
    <span style="color: #408080; font-style: italic">// also include number from right as well</span>
    
    <span style="color: #008000; font-weight: bold">public</span> <span style="color: #008000; font-weight: bold">static</span> Pair<span style="color: #666666">&lt;</span>Integer<span style="color: #666666">&gt;</span> <span style="color: #0000FF">shortestUnsortedSubarray</span><span style="color: #666666">(</span><span style="color: #B00040">int</span><span style="color: #666666">[]</span> a<span style="color: #666666">)</span> <span style="color: #666666">{</span>    
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #666666">(</span>a <span style="color: #666666">==</span> <span style="color: #008000; font-weight: bold">null</span> <span style="color: #666666">||</span> a<span style="color: #666666">.</span><span style="color: #7D9029">length</span> <span style="color: #666666">==</span> <span style="color: #666666">0)</span>        
            <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000; font-weight: bold">null</span>    
            
        <span style="color: #B00040">int</span> start<span style="color: #666666">,</span> end<span style="color: #666666">;</span>    
        
        <span style="color: #408080; font-style: italic">// find dip    </span>
        <span style="color: #008000; font-weight: bold">for</span> <span style="color: #666666">(</span>start <span style="color: #666666">=</span> <span style="color: #666666">0;</span> start <span style="color: #666666">&lt;</span> a<span style="color: #666666">.</span><span style="color: #7D9029">length</span> <span style="color: #666666">-</span> <span style="color: #666666">1;</span> start<span style="color: #666666">++)</span> <span style="color: #666666">{</span>        
            <span style="color: #008000; font-weight: bold">if</span> <span style="color: #666666">(</span>a<span style="color: #666666">[</span>start <span style="color: #666666">+</span> <span style="color: #666666">1]</span> <span style="color: #666666">&lt;</span> a<span style="color: #666666">[</span>start<span style="color: #666666">])</span>            
                <span style="color: #008000; font-weight: bold">break</span><span style="color: #666666">;</span>    
        <span style="color: #666666">}</span>    
        
        <span style="color: #408080; font-style: italic">// no dip found, array is already sorted    </span>
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #666666">(</span>start <span style="color: #666666">==</span> <span style="color: #666666">(</span>a<span style="color: #666666">.</span><span style="color: #7D9029">length</span> <span style="color: #666666">-</span> <span style="color: #666666">1))</span>        
            <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000; font-weight: bold">null</span><span style="color: #666666">;</span>    
            
        <span style="color: #408080; font-style: italic">// find bump    </span>
        <span style="color: #008000; font-weight: bold">for</span> <span style="color: #666666">(</span>end <span style="color: #666666">=</span> a<span style="color: #666666">.</span><span style="color: #7D9029">length</span> <span style="color: #666666">-</span> <span style="color: #666666">1;</span> end <span style="color: #666666">&gt;</span> <span style="color: #666666">0;</span> end<span style="color: #666666">--)</span> <span style="color: #666666">{</span>        
            <span style="color: #008000; font-weight: bold">if</span> <span style="color: #666666">(</span>a<span style="color: #666666">[</span>end <span style="color: #666666">-</span> <span style="color: #666666">1]</span> <span style="color: #666666">&gt;</span> a<span style="color: #666666">[</span>end<span style="color: #666666">])</span>            
                <span style="color: #008000; font-weight: bold">break</span><span style="color: #666666">;</span>    
        <span style="color: #666666">}</span>    
        
        <span style="color: #408080; font-style: italic">// find min and max of a[start..end]   </span>
        <span style="color: #B00040">int</span> max <span style="color: #666666">=</span> Integer<span style="color: #666666">.</span><span style="color: #7D9029">MIN_VALUE</span><span style="color: #666666">,</span> min <span style="color: #666666">=</span> Integer<span style="color: #666666">.</span><span style="color: #7D9029">MAX_VALUE</span><span style="color: #666666">;</span>    
        <span style="color: #008000; font-weight: bold">for</span> <span style="color: #666666">(</span><span style="color: #B00040">int</span> k <span style="color: #666666">=</span> start<span style="color: #666666">;</span> k <span style="color: #666666">&lt;=</span> end<span style="color: #666666">;</span> k<span style="color: #666666">++)</span> <span style="color: #666666">{</span>        
            <span style="color: #008000; font-weight: bold">if</span> <span style="color: #666666">(</span>a<span style="color: #666666">[</span>k<span style="color: #666666">]</span> <span style="color: #666666">&gt;</span> max<span style="color: #666666">)</span>            
                max <span style="color: #666666">=</span> a<span style="color: #666666">[</span>k<span style="color: #666666">];</span>        
            <span style="color: #008000; font-weight: bold">if</span> <span style="color: #666666">(</span>a<span style="color: #666666">[</span>k<span style="color: #666666">]</span> <span style="color: #666666">&lt;</span> min<span style="color: #666666">)</span>            
                min <span style="color: #666666">=</span> a<span style="color: #666666">[</span>k<span style="color: #666666">];</span>    
        <span style="color: #666666">}</span>    
        
        <span style="color: #408080; font-style: italic">// expand start and end outward    </span>
        <span style="color: #008000; font-weight: bold">while</span> <span style="color: #666666">(</span>start <span style="color: #666666">&gt;</span> <span style="color: #666666">0</span> <span style="color: #666666">&amp;&amp;</span> a<span style="color: #666666">[</span>start <span style="color: #666666">-</span> <span style="color: #666666">1]</span> <span style="color: #666666">&gt;</span> min<span style="color: #666666">)</span> <span style="color: #666666">{</span>        
            start<span style="color: #666666">--;</span>    
        <span style="color: #666666">}</span>    
        <span style="color: #008000; font-weight: bold">while</span> <span style="color: #666666">(</span>end <span style="color: #666666">&lt;</span> <span style="color: #666666">(</span>a<span style="color: #666666">.</span><span style="color: #7D9029">length</span> <span style="color: #666666">-</span> <span style="color: #666666">1)</span> <span style="color: #666666">&amp;&amp;</span> a<span style="color: #666666">[</span>end <span style="color: #666666">+</span> <span style="color: #666666">1]</span> <span style="color: #666666">&lt;</span> max<span style="color: #666666">)</span> <span style="color: #666666">{</span>        
            end<span style="color: #666666">++;</span>
        <span style="color: #666666">}</span>    
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000; font-weight: bold">new</span> Pair<span style="color: #666666">&lt;</span>Integer<span style="color: #666666">&gt;(</span>start<span style="color: #666666">,</span> end<span style="color: #666666">);</span>
    <span style="color: #666666">}</span>
    </pre></div>
    