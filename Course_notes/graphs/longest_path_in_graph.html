<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #408080; font-style: italic">// Diameter of a Graph: Given a directed graph, find the length of the longest path in the graph.For example,</span>


    <span style="color: #408080; font-style: italic">//So in short, you want to process each parent node before processing the node. </span>
    <span style="color: #408080; font-style: italic">// This is perfectfor topological sort - because all the parents come before the child.</span>
    <span style="color: #408080; font-style: italic">// Here is the formula we come up with:©​ 2017 Interview Camp (interviewcamp.io)</span>
    
    <span style="color: #408080; font-style: italic">// longest-path(A) = max(longest-path(parents))</span>
    
    
    <span style="color: #008000; font-weight: bold">public</span> <span style="color: #008000; font-weight: bold">static</span> <span style="color: #B00040">int</span> <span style="color: #0000FF">diameter</span><span style="color: #666666">(</span>Node start<span style="color: #666666">)</span> <span style="color: #666666">{</span>    
        
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #666666">(</span>start <span style="color: #666666">==</span> <span style="color: #008000; font-weight: bold">null</span><span style="color: #666666">)</span>        
            <span style="color: #008000; font-weight: bold">return</span> <span style="color: #666666">0;</span>    
    
        <span style="color: #408080; font-style: italic">// stack will return the topological sorting of the graph     </span>
        Stack<span style="color: #666666">&lt;</span>Node<span style="color: #666666">&gt;</span> topoSort <span style="color: #666666">=</span> topoSort<span style="color: #666666">(</span>start<span style="color: #666666">);</span>    
        
        <span style="color: #B00040">int</span> diameter <span style="color: #666666">=</span> <span style="color: #666666">0;</span>
    
        <span style="color: #408080; font-style: italic">// now until stack is not empty, we pop the last elemnt and calculate the diametet    </span>
        <span style="color: #008000; font-weight: bold">while</span><span style="color: #666666">(!</span>topoSort<span style="color: #666666">.</span><span style="color: #7D9029">isEmpty</span><span style="color: #666666">())</span> <span style="color: #666666">{</span>        
            Node current <span style="color: #666666">=</span> topoSort<span style="color: #666666">.</span><span style="color: #7D9029">pop</span><span style="color: #666666">();</span>
    
            <span style="color: #408080; font-style: italic">// diameter is calcualted d=iameter and longetpath</span>
            diameter <span style="color: #666666">=</span> Math<span style="color: #666666">.</span><span style="color: #7D9029">max</span><span style="color: #666666">(</span>diameter<span style="color: #666666">,</span> current<span style="color: #666666">.</span><span style="color: #7D9029">getLongestPath</span><span style="color: #666666">());</span>        
            
            <span style="color: #008000; font-weight: bold">for</span> <span style="color: #666666">(</span>Node <span style="color: #A0A000">neighbor:</span> current<span style="color: #666666">.</span><span style="color: #7D9029">getNeighbors</span><span style="color: #666666">())</span> <span style="color: #666666">{</span>            
                <span style="color: #008000; font-weight: bold">if</span> <span style="color: #666666">(</span>current<span style="color: #666666">.</span><span style="color: #7D9029">getLongestPath</span><span style="color: #666666">()</span> <span style="color: #666666">+</span> <span style="color: #666666">1</span> <span style="color: #666666">&gt;</span> neighbor<span style="color: #666666">.</span><span style="color: #7D9029">getLongestPath</span><span style="color: #666666">())</span>                
                    neighbor<span style="color: #666666">.</span><span style="color: #7D9029">setLongestPath</span><span style="color: #666666">(</span>current<span style="color: #666666">.</span><span style="color: #7D9029">getLongestPath</span><span style="color: #666666">()</span> <span style="color: #666666">+</span> <span style="color: #666666">1);</span>        
                <span style="color: #666666">}</span>    
            <span style="color: #666666">}</span>    
        <span style="color: #008000; font-weight: bold">return</span> diameter<span style="color: #666666">;</span>
    <span style="color: #666666">}</span>
    
    <span style="color: #008000; font-weight: bold">public</span> <span style="color: #008000; font-weight: bold">static</span> Stack<span style="color: #666666">&lt;</span>Node<span style="color: #666666">&gt;</span> <span style="color: #0000FF">topoSort</span><span style="color: #666666">(</span>Node node<span style="color: #666666">)</span> <span style="color: #666666">{</span>    
        Stack<span style="color: #666666">&lt;</span>Node<span style="color: #666666">&gt;</span> stack <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> Stack<span style="color: #666666">&lt;&gt;();</span>    
        
        dfsVisit<span style="color: #666666">(</span>node<span style="color: #666666">,</span> stack<span style="color: #666666">);</span>    
            <span style="color: #008000; font-weight: bold">return</span> stack<span style="color: #666666">;}</span>
            
        <span style="color: #008000; font-weight: bold">public</span> <span style="color: #008000; font-weight: bold">static</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">dfsVisit</span><span style="color: #666666">(</span>Node node<span style="color: #666666">,</span> Stack<span style="color: #666666">&lt;</span>Node<span style="color: #666666">&gt;</span> stack<span style="color: #666666">)</span> <span style="color: #666666">{</span>    
            node<span style="color: #666666">.</span><span style="color: #7D9029">setState</span><span style="color: #666666">(</span>State<span style="color: #666666">.</span><span style="color: #7D9029">VISITING</span><span style="color: #666666">);</span>    
            
            <span style="color: #008000; font-weight: bold">for</span> <span style="color: #666666">(</span>Node <span style="color: #A0A000">neighbor:</span> node<span style="color: #666666">.</span><span style="color: #7D9029">getNeighbors</span><span style="color: #666666">())</span> <span style="color: #666666">{</span>        
                <span style="color: #008000; font-weight: bold">if</span> <span style="color: #666666">(</span>neighbor<span style="color: #666666">.</span><span style="color: #7D9029">getState</span><span style="color: #666666">()</span> <span style="color: #666666">==</span> State<span style="color: #666666">.</span><span style="color: #7D9029">UNVISITED</span><span style="color: #666666">)</span>            
                    dfsVisit<span style="color: #666666">(</span>neighbor<span style="color: #666666">,</span> stack<span style="color: #666666">);</span>    
                <span style="color: #666666">}</span>    
                
            node<span style="color: #666666">.</span><span style="color: #7D9029">setState</span><span style="color: #666666">(</span>State<span style="color: #666666">.</span><span style="color: #7D9029">VISITED</span><span style="color: #666666">);</span>    
            stack<span style="color: #666666">.</span><span style="color: #7D9029">push</span><span style="color: #666666">(</span>node<span style="color: #666666">);</span>
    <span style="color: #666666">}</span>
    
    
    <span style="color: #408080; font-style: italic">/* * Helper Code. Ask interviewer before implementing. */</span>
    <span style="color: #008000; font-weight: bold">public</span> <span style="color: #008000; font-weight: bold">enum</span> State <span style="color: #666666">{</span>    
        UNVISITED<span style="color: #666666">,</span>    
        VISITING<span style="color: #666666">,</span>    
        VISITED<span style="color: #666666">;</span>
    <span style="color: #666666">}</span>
    
    <span style="color: #008000; font-weight: bold">public</span> <span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">Node</span> <span style="color: #666666">{</span>
        List<span style="color: #666666">&lt;</span>Node<span style="color: #666666">&gt;</span> neighbors<span style="color: #666666">;</span>    
        <span style="color: #B00040">int</span> data<span style="color: #666666">;</span>    
        State state<span style="color: #666666">;</span>    
        <span style="color: #B00040">int</span> longestPath<span style="color: #666666">;</span>    
        
        <span style="color: #008000; font-weight: bold">public</span> <span style="color: #0000FF">Node</span><span style="color: #666666">(</span><span style="color: #B00040">int</span> data<span style="color: #666666">)</span> <span style="color: #666666">{</span>        
            <span style="color: #008000; font-weight: bold">super</span><span style="color: #666666">();</span>        
            <span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">.</span><span style="color: #7D9029">data</span> <span style="color: #666666">=</span> data<span style="color: #666666">;</span>        
            state <span style="color: #666666">=</span> State<span style="color: #666666">.</span><span style="color: #7D9029">UNVISITED</span><span style="color: #666666">;</span>        
            <span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">.</span><span style="color: #7D9029">longestPath</span> <span style="color: #666666">=</span> <span style="color: #666666">0;</span>        
            neighbors <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> ArrayList<span style="color: #666666">&lt;</span>Node<span style="color: #666666">&gt;();</span>    
        <span style="color: #666666">}</span>    
        
        <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">int</span> <span style="color: #0000FF">getData</span><span style="color: #666666">()</span> <span style="color: #666666">{</span>        
            <span style="color: #008000; font-weight: bold">return</span> data<span style="color: #666666">;</span>    
        <span style="color: #666666">}</span>    
        
        <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">setData</span><span style="color: #666666">(</span><span style="color: #B00040">int</span> data<span style="color: #666666">)</span> <span style="color: #666666">{</span>        
            <span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">.</span><span style="color: #7D9029">data</span> <span style="color: #666666">=</span> data<span style="color: #666666">;</span>    
        <span style="color: #666666">}</span>    
        
        <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">setState</span><span style="color: #666666">(</span>State state<span style="color: #666666">)</span> <span style="color: #666666">{</span>        
            <span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">.</span><span style="color: #7D9029">state</span> <span style="color: #666666">=</span> state<span style="color: #666666">;</span>    
        <span style="color: #666666">}</span>    
        
        <span style="color: #008000; font-weight: bold">public</span> State <span style="color: #0000FF">getState</span><span style="color: #666666">()</span> <span style="color: #666666">{</span>        
            <span style="color: #008000; font-weight: bold">return</span> state<span style="color: #666666">;</span>    
        <span style="color: #666666">}</span>    
        
        <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">int</span> <span style="color: #0000FF">getLongestPath</span><span style="color: #666666">()</span> <span style="color: #666666">{</span>        
            <span style="color: #008000; font-weight: bold">return</span> longestPath<span style="color: #666666">;</span>    
        <span style="color: #666666">}</span>    
        
        <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">setLongestPath</span><span style="color: #666666">(</span><span style="color: #B00040">int</span> longestPath<span style="color: #666666">)</span> <span style="color: #666666">{</span>        
            <span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">.</span><span style="color: #7D9029">longestPath</span> <span style="color: #666666">=</span> longestPath<span style="color: #666666">;</span>    
        <span style="color: #666666">}</span>    
        
        <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">addNeighbor</span><span style="color: #666666">(</span>Node node<span style="color: #666666">)</span> <span style="color: #666666">{</span>        
            neighbors<span style="color: #666666">.</span><span style="color: #7D9029">add</span><span style="color: #666666">(</span>node<span style="color: #666666">);</span>    
        <span style="color: #666666">}</span>    
        
        <span style="color: #008000; font-weight: bold">public</span> List<span style="color: #666666">&lt;</span>Node<span style="color: #666666">&gt;</span> <span style="color: #0000FF">getNeighbors</span><span style="color: #666666">()</span> <span style="color: #666666">{</span>        
            <span style="color: #008000; font-weight: bold">return</span> neighbors<span style="color: #666666">;</span>    
        <span style="color: #666666">}</span>
    <span style="color: #666666">}</span>
    </pre></div>
    